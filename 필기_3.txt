41. 다중 포인트 그림자 매핑

다중 포인트 조명을 바탕으로 그림자를 여러개 만들어 주는 방법

쉐도우 매핑과 함께 여러 라이트를 사용하는 것은 기본 쉐도우 매핑 기술을 쉽게 확장 할 수 있다. 한 빛의 관점에서 하나의 깊이 맵을 렌더링하는 대신 이제 장면의 각 빛에 대한 깊이 맵을 렌더링한다. 그런 다음 각 빛과 확산 된 색상 및 위치에 대한 쉐이더 깊이 맵(그림자 맵)을 전송한다. 그런 다음 각 조명에 대해 단일 조명에 대해 수행 한 것과 동일한 그림자 프로세스를 수행하고 모든 색상 결과를 함께 추가하여 최종 픽셀 값을 얻는다.

42. 부드러운 그림자

그림자 매핑의 문제점 중 하나는 그림자 매핑에 사용되는 텍스처의 정밀도 부족이다. 그림자 맵 사용의 주요 장점 중 하나는 부드러운 그림자를 쉽게 생성하여 들쭉날쭉 한 그림자 가장자리를 수정할 수 있다는 것이다.

부드러운 그림자를 생성하려면 먼저 그림자 셰이더를 수정해야 한다. 셰이더를 사용하여 그림자가 있는 장면을 이전처럼 조명으로 렌더링하는 대신 그림자 영역을 순수한 검정색으로, 조명 영역을 순수한 흰색으로 렌더링 한다. 

흑백 장면을 백 버퍼 대신에 텍스처로 렌더링 한다. 우리가 텍스처에 렌더링 하는 이유는 흑백 이미지를 흐리게 하는 다음 단계를 수행할 수 있기 때문이다. 36에 흐리게 만들어 주는게 있으니 참고

43. 투영 텍스쳐

투영 텍스쳐는 실시간 응용 프로그램을 위한 고급 렌더링 기술 대부분을 수행하는 데 필요한 가장 중요한 개념 중 하나이다.
예를 들면, 부드러운 그림자, 물, 투사 광 맵 및 반사는 모두 투영 텍스처를 필요로 한다.

투영 텍스쳐는 단순히 특정 시점에서 3D장면으로 2D텍스처를 투사하는 것이다. 3D 장면을 2D 백 버퍼에 렌더링하기 위해 카메라 시점을 사용하는 것과 비슷한 방식으로 작동한다. 

투영을 위한 클래스를 만들 투영 클래스의 정보(viewMatrix, projectionMatrix)를 바탕으로 셰이더에서 계산해준다.
ProjectionTexture의 위치가 0, 1 사이에 있으면 투영 텍스쳐가 존재하는 픽셀이므로 계산을 해주면 된다.

44. 투영 라이트 맵

투영 라이트 맵은 단순한 2D 라이트 맵 텍스쳐로 복잡한 장면 조명을 재현하는 가장 좋은 방법 중 하나이다. 우리가 투영 텍스쳐를 사용하여 2D텍스쳐를 3D 장면에 렌더링 한 것과 마찬가지로 2D 조명지도 텍스쳐를 사용하여 3D 장면에 투영한다.

이전 43 투영 텍스쳐와 처리 방식은 비슷하다. 방향조명이 아닌 점조명으로도 처리 할 수 있다.

45. 셰이더 매니져

셰이더 방식을 매니져로 관리하여 좀 더 편하게 이용 가능하게 해준다.























